<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<!-- Aaron Zeckoski (aaronz@vt.edu), Rui Feng(fengr@vt.edu)-->
<beans>

	<!-- session scope backing beans here -->
	<bean id="evaluationBean"
		class="org.sakaiproject.evaluation.tool.EvaluationBean"
		init-method="init">
		<property name="external"
			ref="org.sakaiproject.evaluation.logic.EvalExternalLogic" />
		<property name="templatesLogic"
			ref="org.sakaiproject.evaluation.logic.EvalTemplatesLogic" />
		<property name="itemsLogic"
			ref="org.sakaiproject.evaluation.logic.EvalItemsLogic" />
		<property name="evalsLogic"
			ref="org.sakaiproject.evaluation.logic.EvalEvaluationsLogic" />
		<property name="assignsLogic"
			ref="org.sakaiproject.evaluation.logic.EvalAssignsLogic" />
		<property name="responsesLogic"
			ref="org.sakaiproject.evaluation.logic.EvalResponsesLogic" />
		<property name="emailsLogic"
			ref="org.sakaiproject.evaluation.logic.EvalEmailsLogic" />
		<property name="settings"
			ref="org.sakaiproject.evaluation.logic.EvalSettings" />
	</bean>

	<!-- request scope backing beans here -->
	<bean id="templateBean"
		class="org.sakaiproject.evaluation.tool.TemplateBean"
		init-method="init">
		<property name="external"
			ref="org.sakaiproject.evaluation.logic.EvalExternalLogic" />
		<property name="templatesLogic"
			ref="org.sakaiproject.evaluation.logic.EvalTemplatesLogic" />
		<property name="itemsLogic"
			ref="org.sakaiproject.evaluation.logic.EvalItemsLogic" />
		<property name="scalesLogic"
			ref="org.sakaiproject.evaluation.logic.EvalScalesLogic" />
	</bean>

	<bean id="settingsBean"
		class="org.sakaiproject.evaluation.tool.SettingsWBL">
		<property name="evalSettings"
			ref="org.sakaiproject.evaluation.logic.EvalSettings" />
		<property name="leafParser" ref="staticLeafParser" />
	</bean>

	<!-- request scope backing beans here -->
	<bean id="EvalARI"
		class="org.sakaiproject.evaluation.tool.EvalARI">
		<property name="itemsBean" ref="itemsBean" />
	</bean>

	<bean id="templateBBean"
		class="org.sakaiproject.evaluation.tool.TemplateBBean">
	  <property name="templateBeanLocator" ref="templateBeanLocator"/>
	</bean>

	<bean id="itemsBean"
		class="org.sakaiproject.evaluation.tool.ItemsBean"
		init-method="init">
		<property name="external"
			ref="org.sakaiproject.evaluation.logic.EvalExternalLogic" />
		<property name="itemsLogic"
			ref="org.sakaiproject.evaluation.logic.EvalItemsLogic" />
		<property name="scalesLogic"
			ref="org.sakaiproject.evaluation.logic.EvalScalesLogic" />
		<property name="templatesLogic"
			ref="org.sakaiproject.evaluation.logic.EvalTemplatesLogic" />
	</bean>

	<bean id="handlerHook"
		class="org.sakaiproject.evaluation.tool.ReportHandlerHook">
		<property name="viewparams" ref="viewParameters" />
		<property name="response" ref="httpServletResponse" />
		<property name="request" ref="httpServletRequest" />
		<property name="evalsLogic"
			ref="org.sakaiproject.evaluation.logic.EvalEvaluationsLogic" />
		<property name="responsesLogic"
			ref="org.sakaiproject.evaluation.logic.EvalResponsesLogic" />
	</bean>

	<bean id="templateBeanLocator"
		class="org.sakaiproject.evaluation.tool.TemplateBeanLocator">
	   <property name="localTemplateLogic" ref="localTemplateLogic"/>
	</bean>

  <bean id="entityRewriteWrapper" 
    class="org.sakaiproject.evaluation.tool.wrapper.EntityRewriteWrapper">
    <property name="ARIResult" ref="ARIResult"/>
    <property name="templateBeanLocator" ref="templateBeanLocator"/>
    <property name="requestType" ref="requestType"/>
    <property name="viewParameters" ref="viewParameters"/>
  </bean>

	<bean id="templateItemBeanLocator"
		class="org.sakaiproject.evaluation.tool.TemplateItemBeanLocator">
		<property name="itemsLogic"
			ref="org.sakaiproject.evaluation.logic.EvalItemsLogic" />
		<property name="external"
			ref="org.sakaiproject.evaluation.logic.EvalExternalLogic" />
	</bean>

	<!-- producers here -->
	<bean
		class="org.sakaiproject.evaluation.tool.producers.SummaryProducer">
		<property name="external"
			ref="org.sakaiproject.evaluation.logic.EvalExternalLogic" />
		<property name="evaluationsLogic"
			ref="org.sakaiproject.evaluation.logic.EvalEvaluationsLogic" />
		<property name="templatesLogic"
			ref="org.sakaiproject.evaluation.logic.EvalTemplatesLogic" />
		<property name="responsesLogic"
			ref="org.sakaiproject.evaluation.logic.EvalResponsesLogic" />
		<property name="messageLocator" ref="messageLocator" />
		<property name="locale" ref="sakai-Locale" />
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.ControlPanelProducer">
		<property name="assignsLogic"
			ref="org.sakaiproject.evaluation.logic.EvalAssignsLogic" />
		<property name="external"
			ref="org.sakaiproject.evaluation.logic.EvalExternalLogic" />
		<property name="evaluationsLogic"
			ref="org.sakaiproject.evaluation.logic.EvalEvaluationsLogic" />
		<property name="templatesLogic"
			ref="org.sakaiproject.evaluation.logic.EvalTemplatesLogic" />
		<property name="responsesLogic"
			ref="org.sakaiproject.evaluation.logic.EvalResponsesLogic" />
		<property name="messageLocator" ref="messageLocator" />
		<property name="locale" ref="sakai-Locale" />
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.AdministrateProducer">
		<property name="external"
			ref="org.sakaiproject.evaluation.logic.EvalExternalLogic" />
		<property name="messageLocator" ref="messageLocator" />
		<property name="settings"
			ref="org.sakaiproject.evaluation.logic.EvalSettings" />
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.TemplateProducer">
		<property name="messageLocator" ref="messageLocator" />
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.TemplateModifyProducer">
		<property name="messageLocator" ref="messageLocator" />
    <property name="localTemplateLogic" ref="localTemplateLogic"/>
    <property name="viewStateHandler" ref="viewStateHandler"/>
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.ModifyScaledProducer">
		<property name="messageLocator" ref="messageLocator" />
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.PreviewItemProducer">
		<property name="templateBean" ref="templateBean" />
		<property name="messageLocator" ref="messageLocator" />
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.PreviewEvalProducer">
		<property name="external"
			ref="org.sakaiproject.evaluation.logic.EvalExternalLogic" />
		<property name="evalsLogic"
			ref="org.sakaiproject.evaluation.logic.EvalEvaluationsLogic" />
		<property name="templatesLogic"
			ref="org.sakaiproject.evaluation.logic.EvalTemplatesLogic" />
		<property name="messageLocator" ref="messageLocator" />
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.RemoveQuestionProducer">
		<property name="templateBean" ref="templateBean" />
		<property name="messageLocator" ref="messageLocator" />
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.ModifyEssayProducer">
		<property name="templateBean" ref="templateBean" />
		<property name="messageLocator" ref="messageLocator" />
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.ModifyHeaderProducer">
		<property name="templateBean" ref="templateBean" />
		<property name="messageLocator" ref="messageLocator" />
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.ModifyBlockProducer">
		<property name="templateBean" ref="templateBean" />
		<property name="messageLocator" ref="messageLocator" />
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.EvaluationStartProducer">
		<property name="templatesLogic"
			ref="org.sakaiproject.evaluation.logic.EvalTemplatesLogic" />
		<property name="external"
			ref="org.sakaiproject.evaluation.logic.EvalExternalLogic" />
		<property name="messageLocator" ref="messageLocator" />
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.EvaluationSettingsProducer">
		<property name="evaluationBean" ref="evaluationBean" />
		<property name="messageLocator" ref="messageLocator" />
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.EvaluationAssignProducer">
		<property name="external"
			ref="org.sakaiproject.evaluation.logic.EvalExternalLogic" />
		<property name="messageLocator" ref="messageLocator" />
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.EvaluationAssignConfirmProducer">
		<property name="external"
			ref="org.sakaiproject.evaluation.logic.EvalExternalLogic" />
		<property name="evaluationBean" ref="evaluationBean" />
		<property name="messageLocator" ref="messageLocator" />
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.PreviewEmailProducer">
		<property name="evaluationBean" ref="evaluationBean" />
		<property name="messageLocator" ref="messageLocator" />
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.ModifyEmailProducer">
		<property name="messageLocator" ref="messageLocator" />
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.ViewReportProducer">
		<property name="evalsLogic"
			ref="org.sakaiproject.evaluation.logic.EvalEvaluationsLogic" />
		<property name="responsesLogic"
			ref="org.sakaiproject.evaluation.logic.EvalResponsesLogic" />
		<property name="messageLocator" ref="messageLocator" />
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.ViewEssayResponseProducer">
		<property name="evalsLogic"
			ref="org.sakaiproject.evaluation.logic.EvalEvaluationsLogic" />
		<property name="itemsLogic"
			ref="org.sakaiproject.evaluation.logic.EvalItemsLogic" />
		<property name="responsesLogic"
			ref="org.sakaiproject.evaluation.logic.EvalResponsesLogic" />
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.TakeEvalProducer">
		<property name="external"
			ref="org.sakaiproject.evaluation.logic.EvalExternalLogic" />
		<property name="evalsLogic"
			ref="org.sakaiproject.evaluation.logic.EvalEvaluationsLogic" />
		<property name="messageLocator" ref="messageLocator" />
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.RemoveEvalProducer">
		<property name="evalsLogic"
			ref="org.sakaiproject.evaluation.logic.EvalEvaluationsLogic" />
		<property name="messageLocator" ref="messageLocator" />
		<property name="locale" ref="requestLocale" />
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.RemoveTemplateProducer">
		<property name="templatesLogic"
			ref="org.sakaiproject.evaluation.logic.EvalTemplatesLogic" />
		<property name="evalsLogic"
			ref="org.sakaiproject.evaluation.logic.EvalEvaluationsLogic" />
		<property name="settings"
			ref="org.sakaiproject.evaluation.logic.EvalSettings" />
		<property name="messageLocator" ref="messageLocator" />
	</bean>

	<bean
		class="org.sakaiproject.evaluation.tool.producers.ScaleControlProducer">
		<property name="scalesLogic"
			ref="org.sakaiproject.evaluation.logic.EvalScalesLogic" />
		<property name="external"
			ref="org.sakaiproject.evaluation.logic.EvalExternalLogic" />
		<property name="messageLocator" ref="messageLocator" />
	</bean>
</beans>